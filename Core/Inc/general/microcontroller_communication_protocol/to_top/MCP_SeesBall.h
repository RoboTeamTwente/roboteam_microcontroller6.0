// AUTOGENERATED. Run generator/main.py to regenerate
/*
[  0   ] [  1   ]
11111111 -------- ack_number
-------- 1------- dribblerSeesBall
-------- -1------ ballsensorSeesBall
*/

#ifndef __MCP_SEES_BALL_H
#define __MCP_SEES_BALL_H

#include <stdbool.h>
#include <stdint.h>
#include "MCP_BaseTypes.h"

typedef struct _MCP_SeesBallPayload {
    uint8_t payload[MCP_PACKET_SIZE_MCP_SEES_BALL];
} MCP_SeesBallPayload;

typedef struct _MCP_SeesBall {
    uint32_t   ack_number          ; // integer [0, 255]             acknowledgements
    bool       dribblerSeesBall    ; // integer [0, 1]               true if dribbler encoder detects ball
    bool       ballsensorSeesBall  ; // integer [0, 1]               true if ball sensor detects ball
} MCP_SeesBall;

// ================================ GETTERS ================================
static inline uint32_t MCP_SeesBall_get_ack_number(MCP_SeesBallPayload *mcpsbp){
   return ((mcpsbp->payload[0]));
}

static inline bool MCP_SeesBall_get_dribblerSeesBall(MCP_SeesBallPayload *mcpsbp){
    return (mcpsbp->payload[1] & 0b10000000) > 0;
}

static inline bool MCP_SeesBall_get_ballsensorSeesBall(MCP_SeesBallPayload *mcpsbp){
    return (mcpsbp->payload[1] & 0b01000000) > 0;
}

// ================================ SETTERS ================================
static inline void MCP_SeesBall_set_ack_number(MCP_SeesBallPayload *mcpsbp, uint32_t ack_number){
    mcpsbp->payload[0] = ack_number;
}

static inline void MCP_SeesBall_set_dribblerSeesBall(MCP_SeesBallPayload *mcpsbp, bool dribblerSeesBall){
    mcpsbp->payload[1] = ((dribblerSeesBall << 7) & 0b10000000) | (mcpsbp->payload[1] & 0b01111111);
}

static inline void MCP_SeesBall_set_ballsensorSeesBall(MCP_SeesBallPayload *mcpsbp, bool ballsensorSeesBall){
    mcpsbp->payload[1] = ((ballsensorSeesBall << 6) & 0b01000000) | (mcpsbp->payload[1] & 0b10111111);
}

// ================================ ENCODE ================================
static inline void encodeMCP_SeesBall(MCP_SeesBallPayload *mcpsbp, MCP_SeesBall *mcpsb){
    MCP_SeesBall_set_ack_number          (mcpsbp, mcpsb->ack_number);
    MCP_SeesBall_set_dribblerSeesBall    (mcpsbp, mcpsb->dribblerSeesBall);
    MCP_SeesBall_set_ballsensorSeesBall  (mcpsbp, mcpsb->ballsensorSeesBall);
}

// ================================ DECODE ================================
static inline void decodeMCP_SeesBall(MCP_SeesBall *mcpsb, MCP_SeesBallPayload *mcpsbp){
    mcpsb->ack_number    = MCP_SeesBall_get_ack_number(mcpsbp);
    mcpsb->dribblerSeesBall= MCP_SeesBall_get_dribblerSeesBall(mcpsbp);
    mcpsb->ballsensorSeesBall= MCP_SeesBall_get_ballsensorSeesBall(mcpsbp);
}

#endif /*__MCP_SEES_BALL_H*/
